###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.50.3.4676/W32 for ARM      24/Jul/2017  16:53:49 #
# Copyright 1999-2013 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Aplicacao\menu_acessorios.c               #
#    Command line =  C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Aplicacao\menu_acessorios.c -lC           #
#                    C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Debug\List\ -lA                           #
#                    C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Debug\List\ -o                            #
#                    C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Debug\Obj\ --no_cse --no_unroll           #
#                    --no_inline --no_code_motion --no_tbaa --no_clustering   #
#                    --no_scheduling --debug --endian=little --cpu=Cortex-M3  #
#                    -e --fpu=None --dlib_config "C:\Program Files (x86)\IAR  #
#                    Systems\Embedded Workbench 6.5\arm\INC\c\DLib_Config_Nor #
#                    mal.h" -Ol                                               #
#    List file    =  C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Debug\List\menu_acessorios.lst            #
#    Object file  =  C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPip #
#                    ocaG2\SOFTWARE\Debug\Obj\menu_acessorios.o               #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\Marcos\Dropbox\Reps\Dextro\IBA\Hardware\MaisPipocaG2\SOFTWARE\Aplicacao\menu_acessorios.c
      1          /*__________________________________________________________________________________
      2          |	Quark Tecnologia Eletrônica Embarcada
      3          |       
      4          |       Itapema - SC
      5          |       www.quarktee.com.br
      6          | __________________________________________________________________________________
      7          |
      8          |       This source code was developed by Quark  and cannot be copied, in part 
      9          |       or in whole, or used, except when legally licensed by Quark 
     10          |       or its distributors.
     11          |
     12          |       Este código é propriedade da Quark  e não pode ser copiado, em parte 
     13          |       ou em todo, ou utilizado, exceto quando for legalmente licenciado pela 
     14          |       Quark  ou por um de seus distribuidores.
     15          | __________________________________________________________________________________
     16          |
     17          |       Arquivo            :  menu_acessorios.c
     18          | 
     19          |       Autor              :  Marcos Aquino
     20          |       Data criação       :
     21          |
     22          |       Revisões           :  001
     23          |
     24          |
     25          | __________________________________________________________________________________
     26          */
     27          
     28          /***********************************************************************************
     29          *       Includes
     30          ***********************************************************************************/
     31          #include <stdio.h>
     32          #include <stdlib.h>
     33          #include <string.h>
     34          #include "..\includes.h"
     35          #include "menu_edita_inteiro.h"
     36          #include "menu_ajuste_relogio.h"
     37          #include "menu_configuracao.h"
     38          #include "menu_edita_flag.h"
     39          #include "menu_edita_listagem.h"
     40          #include "menu_info_binaria.h"
     41          #include "menu_rolagem.h"
     42          #include "menu_teste_hardware.h"
     43          #include "menu_acessorios.h"
     44          #include "menu_seleciona_lista.h"
     45          
     46          /***********************************************************************************
     47          *       Variaveis locais
     48          ***********************************************************************************/
     49          
     50          
     51          /***********************************************************************************
     52          *       Funções locais
     53          ***********************************************************************************/
     54          void MACESS_configura_baud_impressora(void);
     55          void MACESS_configura_bv20(void);
     56          void MACESS_configura_noteiro_mdb(void);
     57          void MACESS_configura_moedeiro_mdb(void);
     58          void MACESS_configura_cartao_mdb(void);
     59          void MACESS_configura_pulso_moeda(void);
     60          void MACESS_configura_pulso_noteiro(void);
     61          
     62          /***********************************************************************************
     63          *       Tabela de funções
     64          ***********************************************************************************/

   \                                 In section .rodata, align 4
     65          void(*const MACESS_func[])(void)={
   \                     MACESS_func:
   \   00000000   0x........         DC32 MACESS_configura_baud_impressora, MACESS_configura_bv20
   \              0x........   
   \   00000008   0x........         DC32 MACESS_configura_noteiro_mdb, MACESS_configura_moedeiro_mdb
   \              0x........   
   \   00000010   0x........         DC32 MACESS_configura_cartao_mdb, MACESS_configura_pulso_moeda
   \              0x........   
   \   00000018   0x........         DC32 MACESS_configura_pulso_noteiro, 0H
   \              0x00000000   
     66            MACESS_configura_baud_impressora,
     67            MACESS_configura_bv20,
     68            MACESS_configura_noteiro_mdb,
     69            MACESS_configura_moedeiro_mdb,
     70            MACESS_configura_cartao_mdb,
     71            MACESS_configura_pulso_moeda,
     72            MACESS_configura_pulso_noteiro,
     73            NULL  
     74          };
     75          
     76          /***********************************************************************************
     77          *       Implementação das funções
     78          ***********************************************************************************/
     79          
     80          /***********************************************************************************
     81          *       Descrição       :       Ponto de entrada do menu de configuração
     82          *                               dos acessórios que serão utilizados
     83          *                               na máquina
     84          *       Parametros      :       nenhum
     85          *       Retorno         :       nenhum
     86          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
     87          void MACESS_entry(void){  
   \                     MACESS_entry:
   \   00000000   0xB510             PUSH     {R4,LR}
     88            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000002   0x.... 0x....      BL       APLICACAO_carrega_idioma
     89            
     90            MENUROLAGEM_show((char*)STRING_titulo_menu_acessorios[idioma],
     91                             (char**)STRING_opcoes_menu_acessorios[idioma],
     92                             TAM_OPCOES_ACESSORIOS,
     93                             (void(**)(void))MACESS_func);         
   \   00000006   0x....             LDR.N    R3,??DataTable7_2
   \   00000008   0x2208             MOVS     R2,#+8
   \   0000000A   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000C   0x....             LDR.N    R1,??DataTable7_3
   \   0000000E   0xEB11 0x1140      ADDS     R1,R1,R0, LSL #+5
   \   00000012   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000014   0x....             LDR.N    R4,??DataTable7_4
   \   00000016   0xF854 0x0020      LDR      R0,[R4, R0, LSL #+2]
   \   0000001A   0x.... 0x....      BL       MENUROLAGEM_show
     94          }
   \   0000001E   0xBD10             POP      {R4,PC}          ;; return
     95          /***********************************************************************************
     96          *       Descrição       :       Configura o baudrate da impressora
     97          *       Parametros      :       nenhum
     98          *       Retorno         :       nenhum
     99          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    100          void MACESS_configura_baud_impressora(void){
   \                     MACESS_configura_baud_impressora:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB098             SUB      SP,SP,#+96
    101            unsigned char idioma = APLICACAO_carrega_idioma();  
   \   00000004   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000008   0x0004             MOVS     R4,R0
    102            unsigned int baud;
    103            const char *nomes_baud[]={
    104              "1200","2400","4800","9600","14400","19200","38400","56000","57600","115200",
    105            };
   \   0000000A   0xA80E             ADD      R0,SP,#+56
   \   0000000C   0x....             LDR.N    R1,??DataTable7_5
   \   0000000E   0x2228             MOVS     R2,#+40
   \   00000010   0x.... 0x....      BL       __aeabi_memcpy4
    106            unsigned int bauds[]={
    107              1200  ,2400  ,4800  , 9600, 14400  ,19200  ,38400 ,56000   ,57600  ,115200
    108            };
   \   00000014   0xA804             ADD      R0,SP,#+16
   \   00000016   0x....             LDR.N    R1,??DataTable7_6
   \   00000018   0x2228             MOVS     R2,#+40
   \   0000001A   0x.... 0x....      BL       __aeabi_memcpy4
    109            unsigned char flags[10]={0};
   \   0000001E   0xA801             ADD      R0,SP,#+4
   \   00000020   0x2100             MOVS     R1,#+0
   \   00000022   0x2200             MOVS     R2,#+0
   \   00000024   0x2300             MOVS     R3,#+0
   \   00000026   0xC00E             STM      R0!,{R1-R3}
   \   00000028   0x380C             SUBS     R0,R0,#+12
    110            
    111            PARAMETROS_le(ADR_BAUDRATE_IMPRESSORA,&baud);
   \   0000002A   0xA900             ADD      R1,SP,#+0
   \   0000002C   0x2007             MOVS     R0,#+7
   \   0000002E   0x.... 0x....      BL       PARAMETROS_le
    112            
    113            switch(baud){
   \   00000032   0x9800             LDR      R0,[SP, #+0]
   \   00000034   0xF5B0 0x6F96      CMP      R0,#+1200
   \   00000038   0xD01C             BEQ.N    ??MACESS_configura_baud_impressora_0
   \   0000003A   0xF5B0 0x6F16      CMP      R0,#+2400
   \   0000003E   0xD01D             BEQ.N    ??MACESS_configura_baud_impressora_1
   \   00000040   0xF5B0 0x5F96      CMP      R0,#+4800
   \   00000044   0xD01E             BEQ.N    ??MACESS_configura_baud_impressora_2
   \   00000046   0xF5B0 0x5F16      CMP      R0,#+9600
   \   0000004A   0xD01F             BEQ.N    ??MACESS_configura_baud_impressora_3
   \   0000004C   0xF5B0 0x5F61      CMP      R0,#+14400
   \   00000050   0xD020             BEQ.N    ??MACESS_configura_baud_impressora_4
   \   00000052   0xF5B0 0x4F96      CMP      R0,#+19200
   \   00000056   0xD021             BEQ.N    ??MACESS_configura_baud_impressora_5
   \   00000058   0xF5B0 0x4F16      CMP      R0,#+38400
   \   0000005C   0xD022             BEQ.N    ??MACESS_configura_baud_impressora_6
   \   0000005E   0xF64D 0x21C0      MOVW     R1,#+56000
   \   00000062   0x4288             CMP      R0,R1
   \   00000064   0xD022             BEQ.N    ??MACESS_configura_baud_impressora_7
   \   00000066   0xF5B0 0x4F61      CMP      R0,#+57600
   \   0000006A   0xD023             BEQ.N    ??MACESS_configura_baud_impressora_8
   \   0000006C   0xF5B0 0x3FE1      CMP      R0,#+115200
   \   00000070   0xD024             BEQ.N    ??MACESS_configura_baud_impressora_9
   \   00000072   0xE027             B.N      ??MACESS_configura_baud_impressora_10
    114              case 1200:
    115                   flags[0] = 255;
   \                     ??MACESS_configura_baud_impressora_0:
   \   00000074   0x20FF             MOVS     R0,#+255
   \   00000076   0xF88D 0x0004      STRB     R0,[SP, #+4]
    116                   break;
   \   0000007A   0xE026             B.N      ??MACESS_configura_baud_impressora_11
    117              case 2400:
    118                   flags[1] = 255;
   \                     ??MACESS_configura_baud_impressora_1:
   \   0000007C   0x20FF             MOVS     R0,#+255
   \   0000007E   0xF88D 0x0005      STRB     R0,[SP, #+5]
    119                   break;
   \   00000082   0xE022             B.N      ??MACESS_configura_baud_impressora_11
    120              case 4800:
    121                   flags[2] = 255;
   \                     ??MACESS_configura_baud_impressora_2:
   \   00000084   0x20FF             MOVS     R0,#+255
   \   00000086   0xF88D 0x0006      STRB     R0,[SP, #+6]
    122                   break;
   \   0000008A   0xE01E             B.N      ??MACESS_configura_baud_impressora_11
    123              case 9600:
    124                   flags[3] = 255;
   \                     ??MACESS_configura_baud_impressora_3:
   \   0000008C   0x20FF             MOVS     R0,#+255
   \   0000008E   0xF88D 0x0007      STRB     R0,[SP, #+7]
    125                   break;
   \   00000092   0xE01A             B.N      ??MACESS_configura_baud_impressora_11
    126              case 14400:
    127                   flags[4] = 255;
   \                     ??MACESS_configura_baud_impressora_4:
   \   00000094   0x20FF             MOVS     R0,#+255
   \   00000096   0xF88D 0x0008      STRB     R0,[SP, #+8]
    128                   break;
   \   0000009A   0xE016             B.N      ??MACESS_configura_baud_impressora_11
    129              case 19200:
    130                   flags[5] = 255;
   \                     ??MACESS_configura_baud_impressora_5:
   \   0000009C   0x20FF             MOVS     R0,#+255
   \   0000009E   0xF88D 0x0009      STRB     R0,[SP, #+9]
    131                   break;
   \   000000A2   0xE012             B.N      ??MACESS_configura_baud_impressora_11
    132              case 38400:
    133                   flags[6] = 255;
   \                     ??MACESS_configura_baud_impressora_6:
   \   000000A4   0x20FF             MOVS     R0,#+255
   \   000000A6   0xF88D 0x000A      STRB     R0,[SP, #+10]
    134                   break;
   \   000000AA   0xE00E             B.N      ??MACESS_configura_baud_impressora_11
    135              case 56000:
    136                   flags[7] = 255;
   \                     ??MACESS_configura_baud_impressora_7:
   \   000000AC   0x20FF             MOVS     R0,#+255
   \   000000AE   0xF88D 0x000B      STRB     R0,[SP, #+11]
    137                   break;
   \   000000B2   0xE00A             B.N      ??MACESS_configura_baud_impressora_11
    138              case 57600:
    139                   flags[8] = 255;
   \                     ??MACESS_configura_baud_impressora_8:
   \   000000B4   0x20FF             MOVS     R0,#+255
   \   000000B6   0xF88D 0x000C      STRB     R0,[SP, #+12]
    140                   break;
   \   000000BA   0xE006             B.N      ??MACESS_configura_baud_impressora_11
    141              case 115200:
    142                   flags[9] = 255;
   \                     ??MACESS_configura_baud_impressora_9:
   \   000000BC   0x20FF             MOVS     R0,#+255
   \   000000BE   0xF88D 0x000D      STRB     R0,[SP, #+13]
    143                   break;
   \   000000C2   0xE002             B.N      ??MACESS_configura_baud_impressora_11
    144              default:
    145                   flags[0] = 255;
   \                     ??MACESS_configura_baud_impressora_10:
   \   000000C4   0x20FF             MOVS     R0,#+255
   \   000000C6   0xF88D 0x0004      STRB     R0,[SP, #+4]
    146                   break;         
    147            }
    148              
    149            MSL_entry((char*)STRING_titulo_edita_baudrate[idioma],(char**)nomes_baud,flags,10);
   \                     ??MACESS_configura_baud_impressora_11:
   \   000000CA   0x230A             MOVS     R3,#+10
   \   000000CC   0xAA01             ADD      R2,SP,#+4
   \   000000CE   0xA90E             ADD      R1,SP,#+56
   \   000000D0   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000D2   0x....             LDR.N    R0,??DataTable7_7
   \   000000D4   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   000000D8   0x.... 0x....      BL       MSL_entry
    150            
    151            baud = 0;
   \   000000DC   0x2000             MOVS     R0,#+0
   \   000000DE   0x9000             STR      R0,[SP, #+0]
    152            for(unsigned char i=0;i<10;i++)
   \   000000E0   0x2000             MOVS     R0,#+0
   \   000000E2   0xE00A             B.N      ??MACESS_configura_baud_impressora_12
    153              if(flags[i])
   \                     ??MACESS_configura_baud_impressora_13:
   \   000000E4   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000E6   0xA901             ADD      R1,SP,#+4
   \   000000E8   0x5C41             LDRB     R1,[R0, R1]
   \   000000EA   0x2900             CMP      R1,#+0
   \   000000EC   0xD004             BEQ.N    ??MACESS_configura_baud_impressora_14
    154                baud=bauds[i];
   \   000000EE   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000F0   0xA904             ADD      R1,SP,#+16
   \   000000F2   0xF851 0x1020      LDR      R1,[R1, R0, LSL #+2]
   \   000000F6   0x9100             STR      R1,[SP, #+0]
   \                     ??MACESS_configura_baud_impressora_14:
   \   000000F8   0x1C40             ADDS     R0,R0,#+1
   \                     ??MACESS_configura_baud_impressora_12:
   \   000000FA   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000FC   0x280A             CMP      R0,#+10
   \   000000FE   0xDBF1             BLT.N    ??MACESS_configura_baud_impressora_13
    155            
    156            PARAMETROS_grava(ADR_BAUDRATE_IMPRESSORA,&baud);  
   \   00000100   0xA900             ADD      R1,SP,#+0
   \   00000102   0x2007             MOVS     R0,#+7
   \   00000104   0x.... 0x....      BL       PARAMETROS_grava
    157          }
   \   00000108   0xB018             ADD      SP,SP,#+96
   \   0000010A   0xBD10             POP      {R4,PC}          ;; return
    158          /***********************************************************************************
    159          *       Descrição       :       Tela para configuração da utilização do BV20
    160          *       Parametros      :       nenhum
    161          *       Retorno         :       nenhum
    162          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    163          void MACESS_configura_bv20(void){
   \                     MACESS_configura_bv20:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB082             SUB      SP,SP,#+8
    164            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000004   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000008   0x0004             MOVS     R4,R0
    165            unsigned char flag;
    166            
    167            PARAMETROS_le(ADR_FLAG_BV20,&flag);
   \   0000000A   0xA900             ADD      R1,SP,#+0
   \   0000000C   0x2001             MOVS     R0,#+1
   \   0000000E   0x.... 0x....      BL       PARAMETROS_le
    168            
    169            flag = MEF_entry((char*)STRING_tela_edita_flag_BV20[idioma],flag,"ON ","OFF");    
   \   00000012   0x....             ADR.N    R3,??DataTable7  ;; "OFF"
   \   00000014   0x....             ADR.N    R2,??DataTable7_1  ;; "ON "
   \   00000016   0xF89D 0x1000      LDRB     R1,[SP, #+0]
   \   0000001A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000001C   0x....             LDR.N    R0,??DataTable7_8
   \   0000001E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000022   0x.... 0x....      BL       MEF_entry
   \   00000026   0xF88D 0x0000      STRB     R0,[SP, #+0]
    170            
    171            PARAMETROS_grava(ADR_FLAG_BV20,&flag);
   \   0000002A   0xA900             ADD      R1,SP,#+0
   \   0000002C   0x2001             MOVS     R0,#+1
   \   0000002E   0x.... 0x....      BL       PARAMETROS_grava
    172          }
   \   00000032   0xBD13             POP      {R0,R1,R4,PC}    ;; return
    173          /***********************************************************************************
    174          *       Descrição       :       Tela para configuração da utilização do
    175          *                               noteiro MDB
    176          *       Parametros      :       nenhum
    177          *       Retorno         :       nenhum
    178          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    179          void MACESS_configura_noteiro_mdb(void){
   \                     MACESS_configura_noteiro_mdb:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB082             SUB      SP,SP,#+8
    180            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000004   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000008   0x0004             MOVS     R4,R0
    181            unsigned char flag;
    182            
    183            PARAMETROS_le(ADR_FLAG_MDB_BIL,&flag);
   \   0000000A   0xA900             ADD      R1,SP,#+0
   \   0000000C   0x2004             MOVS     R0,#+4
   \   0000000E   0x.... 0x....      BL       PARAMETROS_le
    184            
    185            flag = MEF_entry((char*)STRING_titulo_edita_flag_mdb_bill[idioma],flag,"ON ","OFF");    
   \   00000012   0x....             ADR.N    R3,??DataTable7  ;; "OFF"
   \   00000014   0x....             ADR.N    R2,??DataTable7_1  ;; "ON "
   \   00000016   0xF89D 0x1000      LDRB     R1,[SP, #+0]
   \   0000001A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000001C   0x....             LDR.N    R0,??DataTable7_9
   \   0000001E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000022   0x.... 0x....      BL       MEF_entry
   \   00000026   0xF88D 0x0000      STRB     R0,[SP, #+0]
    186            
    187            PARAMETROS_grava(ADR_FLAG_MDB_BIL,&flag);
   \   0000002A   0xA900             ADD      R1,SP,#+0
   \   0000002C   0x2004             MOVS     R0,#+4
   \   0000002E   0x.... 0x....      BL       PARAMETROS_grava
    188          }
   \   00000032   0xBD13             POP      {R0,R1,R4,PC}    ;; return
    189          /***********************************************************************************
    190          *       Descrição       :       Tela para configuração da utilização do 
    191          *                               moedeiro MDB
    192          *       Parametros      :       nenhum
    193          *       Retorno         :       nenhum
    194          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    195          void MACESS_configura_moedeiro_mdb(void){
   \                     MACESS_configura_moedeiro_mdb:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB082             SUB      SP,SP,#+8
    196            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000004   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000008   0x0004             MOVS     R4,R0
    197            unsigned char flag;
    198            
    199            PARAMETROS_le(ADR_FLAG_MDB_COIN,&flag);
   \   0000000A   0xA900             ADD      R1,SP,#+0
   \   0000000C   0x2005             MOVS     R0,#+5
   \   0000000E   0x.... 0x....      BL       PARAMETROS_le
    200            
    201            flag = MEF_entry((char*)STRING_titulo_edita_flag_mdb_coin[idioma],flag,"ON ","OFF");    
   \   00000012   0x....             ADR.N    R3,??DataTable7  ;; "OFF"
   \   00000014   0x....             ADR.N    R2,??DataTable7_1  ;; "ON "
   \   00000016   0xF89D 0x1000      LDRB     R1,[SP, #+0]
   \   0000001A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000001C   0x....             LDR.N    R0,??DataTable7_10
   \   0000001E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000022   0x.... 0x....      BL       MEF_entry
   \   00000026   0xF88D 0x0000      STRB     R0,[SP, #+0]
    202            
    203            PARAMETROS_grava(ADR_FLAG_MDB_COIN,&flag);
   \   0000002A   0xA900             ADD      R1,SP,#+0
   \   0000002C   0x2005             MOVS     R0,#+5
   \   0000002E   0x.... 0x....      BL       PARAMETROS_grava
    204          }
   \   00000032   0xBD13             POP      {R0,R1,R4,PC}    ;; return
    205          /***********************************************************************************
    206          *       Descrição       :       Tela para configuração da utilização do
    207          *                               cartão de crédito MDB
    208          *       Parametros      :       nenhum
    209          *       Retorno         :       nenhum
    210          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    211          void MACESS_configura_cartao_mdb(void){
   \                     MACESS_configura_cartao_mdb:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB082             SUB      SP,SP,#+8
    212            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000004   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000008   0x0004             MOVS     R4,R0
    213            unsigned char flag;
    214            
    215            PARAMETROS_le(ADR_FLAG_MDB_CASHLESS,&flag);
   \   0000000A   0xA900             ADD      R1,SP,#+0
   \   0000000C   0x2006             MOVS     R0,#+6
   \   0000000E   0x.... 0x....      BL       PARAMETROS_le
    216            
    217            flag = MEF_entry((char*)STRING_titulo_edita_flag_mdb_cashless[idioma],flag,"ON ","OFF");    
   \   00000012   0x....             ADR.N    R3,??DataTable7  ;; "OFF"
   \   00000014   0x....             ADR.N    R2,??DataTable7_1  ;; "ON "
   \   00000016   0xF89D 0x1000      LDRB     R1,[SP, #+0]
   \   0000001A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000001C   0x....             LDR.N    R0,??DataTable7_11
   \   0000001E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000022   0x.... 0x....      BL       MEF_entry
   \   00000026   0xF88D 0x0000      STRB     R0,[SP, #+0]
    218            
    219            PARAMETROS_grava(ADR_FLAG_MDB_CASHLESS,&flag);
   \   0000002A   0xA900             ADD      R1,SP,#+0
   \   0000002C   0x2006             MOVS     R0,#+6
   \   0000002E   0x.... 0x....      BL       PARAMETROS_grava
    220          }
   \   00000032   0xBD13             POP      {R0,R1,R4,PC}    ;; return
    221          /***********************************************************************************
    222          *       Descrição       :       Definie o valor do pulso para a moeda
    223          *       Parametros      :       nenhum
    224          *       Retorno         :       nenhum
    225          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    226          void MACESS_configura_pulso_moeda(void){
   \                     MACESS_configura_pulso_moeda:
   \   00000000   0xB51C             PUSH     {R2-R4,LR}
    227            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000002   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000006   0x0004             MOVS     R4,R0
    228            unsigned int pulso;
    229          
    230            PARAMETROS_le(ADR_VALOR_PULSO_MOEDEIRO,(void*)&pulso);
   \   00000008   0xA901             ADD      R1,SP,#+4
   \   0000000A   0x2008             MOVS     R0,#+8
   \   0000000C   0x.... 0x....      BL       PARAMETROS_le
    231            if(pulso>9999)
   \   00000010   0x9801             LDR      R0,[SP, #+4]
   \   00000012   0xF242 0x7110      MOVW     R1,#+10000
   \   00000016   0x4288             CMP      R0,R1
   \   00000018   0xD301             BCC.N    ??MACESS_configura_pulso_moeda_0
    232              pulso = 5;
   \   0000001A   0x2005             MOVS     R0,#+5
   \   0000001C   0x9001             STR      R0,[SP, #+4]
    233            
    234            pulso = MEI_entry((char*)STRING_titulo_edita_pulso_moeda[idioma],"%04d",pulso,5,9999);                
   \                     ??MACESS_configura_pulso_moeda_0:
   \   0000001E   0xF242 0x700F      MOVW     R0,#+9999
   \   00000022   0x9000             STR      R0,[SP, #+0]
   \   00000024   0x2305             MOVS     R3,#+5
   \   00000026   0x9A01             LDR      R2,[SP, #+4]
   \   00000028   0x....             LDR.N    R1,??DataTable7_12
   \   0000002A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000002C   0x....             LDR.N    R0,??DataTable7_13
   \   0000002E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000032   0x.... 0x....      BL       MEI_entry
   \   00000036   0x9001             STR      R0,[SP, #+4]
    235              
    236            PARAMETROS_grava(ADR_VALOR_PULSO_MOEDEIRO,(void*)&pulso);
   \   00000038   0xA901             ADD      R1,SP,#+4
   \   0000003A   0x2008             MOVS     R0,#+8
   \   0000003C   0x.... 0x....      BL       PARAMETROS_grava
    237          }
   \   00000040   0xBD13             POP      {R0,R1,R4,PC}    ;; return
    238          /***********************************************************************************
    239          *       Descrição       :       Tela para configuração do valor do pulso
    240          *                               para o noteiro 
    241          *       Parametros      :       nenhum
    242          *       Retorno         :       nenhum
    243          ***********************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    244          void MACESS_configura_pulso_noteiro(void){
   \                     MACESS_configura_pulso_noteiro:
   \   00000000   0xB51C             PUSH     {R2-R4,LR}
    245            unsigned char idioma = APLICACAO_carrega_idioma();
   \   00000002   0x.... 0x....      BL       APLICACAO_carrega_idioma
   \   00000006   0x0004             MOVS     R4,R0
    246            unsigned int pulso;
    247          
    248            PARAMETROS_le(ADR_VALOR_PULSO_NOTEIRO,(void*)&pulso);
   \   00000008   0xA901             ADD      R1,SP,#+4
   \   0000000A   0x2009             MOVS     R0,#+9
   \   0000000C   0x.... 0x....      BL       PARAMETROS_le
    249            if(pulso>9999)
   \   00000010   0x9801             LDR      R0,[SP, #+4]
   \   00000012   0xF242 0x7110      MOVW     R1,#+10000
   \   00000016   0x4288             CMP      R0,R1
   \   00000018   0xD301             BCC.N    ??MACESS_configura_pulso_noteiro_0
    250              pulso = 5;
   \   0000001A   0x2005             MOVS     R0,#+5
   \   0000001C   0x9001             STR      R0,[SP, #+4]
    251            
    252            pulso = MEI_entry((char*)STRING_titulo_edita_pulso_noteiro[idioma],"%04d",pulso,5,9999);                
   \                     ??MACESS_configura_pulso_noteiro_0:
   \   0000001E   0xF242 0x700F      MOVW     R0,#+9999
   \   00000022   0x9000             STR      R0,[SP, #+0]
   \   00000024   0x2305             MOVS     R3,#+5
   \   00000026   0x9A01             LDR      R2,[SP, #+4]
   \   00000028   0x....             LDR.N    R1,??DataTable7_12
   \   0000002A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000002C   0x....             LDR.N    R0,??DataTable7_14
   \   0000002E   0xF850 0x0024      LDR      R0,[R0, R4, LSL #+2]
   \   00000032   0x.... 0x....      BL       MEI_entry
   \   00000036   0x9001             STR      R0,[SP, #+4]
    253              
    254            PARAMETROS_grava(ADR_VALOR_PULSO_NOTEIRO,(void*)&pulso);
   \   00000038   0xA901             ADD      R1,SP,#+4
   \   0000003A   0x2009             MOVS     R0,#+9
   \   0000003C   0x.... 0x....      BL       PARAMETROS_grava
    255          }
   \   00000040   0xBD13             POP      {R0,R1,R4,PC}    ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   0x4F 0x46          DC8      "OFF"
   \              0x46 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_1:
   \   00000000   0x4F 0x4E          DC8      "ON "
   \              0x20 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_2:
   \   00000000   0x........         DC32     MACESS_func

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_3:
   \   00000000   0x........         DC32     STRING_opcoes_menu_acessorios

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_4:
   \   00000000   0x........         DC32     STRING_titulo_menu_acessorios

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_5:
   \   00000000   0x........         DC32     `?<Constant {&"1200", &"2400", &"4800", &"9600"`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_6:
   \   00000000   0x........         DC32     `?<Constant {1200, 2400, 4800, 9600, 14400, 192`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_7:
   \   00000000   0x........         DC32     STRING_titulo_edita_baudrate

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_8:
   \   00000000   0x........         DC32     STRING_tela_edita_flag_BV20

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_9:
   \   00000000   0x........         DC32     STRING_titulo_edita_flag_mdb_bill

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_10:
   \   00000000   0x........         DC32     STRING_titulo_edita_flag_mdb_coin

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_11:
   \   00000000   0x........         DC32     STRING_titulo_edita_flag_mdb_cashless

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_12:
   \   00000000   0x........         DC32     `?<Constant "%04d">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_13:
   \   00000000   0x........         DC32     STRING_titulo_edita_pulso_moeda

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_14:
   \   00000000   0x........         DC32     STRING_titulo_edita_pulso_noteiro

   \                                 In section .rodata, align 4
   \                     `?<Constant "1200">`:
   \   00000000   0x31 0x32          DC8 "1200"
   \              0x30 0x30    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "2400">`:
   \   00000000   0x32 0x34          DC8 "2400"
   \              0x30 0x30    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "4800">`:
   \   00000000   0x34 0x38          DC8 "4800"
   \              0x30 0x30    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "9600">`:
   \   00000000   0x39 0x36          DC8 "9600"
   \              0x30 0x30    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "14400">`:
   \   00000000   0x31 0x34          DC8 "14400"
   \              0x34 0x30    
   \              0x30 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "19200">`:
   \   00000000   0x31 0x39          DC8 "19200"
   \              0x32 0x30    
   \              0x30 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "38400">`:
   \   00000000   0x33 0x38          DC8 "38400"
   \              0x34 0x30    
   \              0x30 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "56000">`:
   \   00000000   0x35 0x36          DC8 "56000"
   \              0x30 0x30    
   \              0x30 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "57600">`:
   \   00000000   0x35 0x37          DC8 "57600"
   \              0x36 0x30    
   \              0x30 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "115200">`:
   \   00000000   0x31 0x31          DC8 "115200"
   \              0x35 0x32    
   \              0x30 0x30    
   \              0x00         
   \   00000007   0x00               DC8 0

   \                                 In section .rodata, align 4
   \                     `?<Constant {&"1200", &"2400", &"4800", &"9600"`:
   \   00000000   0x........         DC32 `?<Constant "1200">`, `?<Constant "2400">`, `?<Constant "4800">`
   \              0x........   
   \              0x........   
   \   0000000C   0x........         DC32 `?<Constant "9600">`, `?<Constant "14400">`, `?<Constant "19200">`
   \              0x........   
   \              0x........   
   \   00000018   0x........         DC32 `?<Constant "38400">`, `?<Constant "56000">`
   \              0x........   
   \   00000020   0x........         DC32 `?<Constant "57600">`, `?<Constant "115200">`
   \              0x........   

   \                                 In section .rodata, align 4
   \                     `?<Constant {1200, 2400, 4800, 9600, 14400, 192`:
   \   00000000   0x000004B0         DC32 1200, 2400, 4800, 9600, 14400, 19200, 38400, 56000, 57600, 115200
   \              0x00000960   
   \              0x000012C0   
   \              0x00002580   
   \              0x00003840   
   \              0x00004B00   
   \              0x00009600   
   \              0x0000DAC0   
   \              0x0000E100   
   \              0x0001C200   

   \                                 In section .rodata, align 4
   \   00000000   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    

   \                                 In section .rodata, align 4
   \   00000000   0x4F 0x4E          DC8 "ON "
   \              0x20 0x00    

   \                                 In section .rodata, align 4
   \   00000000   0x4F 0x46          DC8 "OFF"
   \              0x46 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "%04d">`:
   \   00000000   0x25 0x30          DC8 "%04d"
   \              0x34 0x64    
   \              0x00         
   \   00000005   0x00 0x00          DC8 0, 0, 0
   \              0x00         
    256          /***********************************************************************************
    257          *       Fim do arquivo
    258          ***********************************************************************************/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
     104   MACESS_configura_baud_impressora
       104   -> APLICACAO_carrega_idioma
       104   -> MSL_entry
       104   -> PARAMETROS_grava
       104   -> PARAMETROS_le
       104   -> __aeabi_memcpy4
      16   MACESS_configura_bv20
        16   -> APLICACAO_carrega_idioma
        16   -> MEF_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
      16   MACESS_configura_cartao_mdb
        16   -> APLICACAO_carrega_idioma
        16   -> MEF_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
      16   MACESS_configura_moedeiro_mdb
        16   -> APLICACAO_carrega_idioma
        16   -> MEF_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
      16   MACESS_configura_noteiro_mdb
        16   -> APLICACAO_carrega_idioma
        16   -> MEF_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
      16   MACESS_configura_pulso_moeda
        16   -> APLICACAO_carrega_idioma
        16   -> MEI_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
      16   MACESS_configura_pulso_noteiro
        16   -> APLICACAO_carrega_idioma
        16   -> MEI_entry
        16   -> PARAMETROS_grava
        16   -> PARAMETROS_le
       8   MACESS_entry
         8   -> APLICACAO_carrega_idioma
         8   -> MENUROLAGEM_show


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       8  ?<Constant "%04d">
       8  ?<Constant "115200">
       8  ?<Constant "1200">
       8  ?<Constant "14400">
       8  ?<Constant "19200">
       8  ?<Constant "2400">
       8  ?<Constant "38400">
       8  ?<Constant "4800">
       8  ?<Constant "56000">
       8  ?<Constant "57600">
       8  ?<Constant "9600">
       4  ?<Constant "OFF">
       4  ?<Constant "ON ">
      40  ?<Constant {&"1200", &"2400", &"4800", &"9600"
      12  ?<Constant {0}>
      40  ?<Constant {1200, 2400, 4800, 9600, 14400, 192
       4  ??DataTable7
       4  ??DataTable7_1
       4  ??DataTable7_10
       4  ??DataTable7_11
       4  ??DataTable7_12
       4  ??DataTable7_13
       4  ??DataTable7_14
       4  ??DataTable7_2
       4  ??DataTable7_3
       4  ??DataTable7_4
       4  ??DataTable7_5
       4  ??DataTable7_6
       4  ??DataTable7_7
       4  ??DataTable7_8
       4  ??DataTable7_9
     268  MACESS_configura_baud_impressora
      52  MACESS_configura_bv20
      52  MACESS_configura_cartao_mdb
      52  MACESS_configura_moedeiro_mdb
      52  MACESS_configura_noteiro_mdb
      66  MACESS_configura_pulso_moeda
      66  MACESS_configura_pulso_noteiro
      32  MACESS_entry
      32  MACESS_func

 
 220 bytes in section .rodata
 700 bytes in section .text
 
 700 bytes of CODE  memory
 220 bytes of CONST memory

Errors: none
Warnings: none
